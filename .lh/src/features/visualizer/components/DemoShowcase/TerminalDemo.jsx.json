{
    "sourceFile": "src/features/visualizer/components/DemoShowcase/TerminalDemo.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1762149763371,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1762149763371,
            "name": "Commit-0",
            "content": "import { useEffect, useRef, useState } from \"react\";\r\nimport { ReactFlow, Background, Controls } from \"@xyflow/react\";\r\nimport { useGitGraph } from \"../../hooks/useGitGraph\";\r\nimport CustomNode from \"../Graph/CustomNode\";\r\nimport CustomEdge from \"../Graph/CustomEdge\";\r\nimport \"@xyflow/react/dist/style.css\";\r\nimport \"./DemoShowcase.css\";\r\n\r\nconst nodeTypes = {\r\n  custom: CustomNode,\r\n};\r\n\r\nconst edgeTypes = {\r\n  custom: CustomEdge,\r\n};\r\n\r\n/**\r\n * TerminalDemo - Shows terminal-like command execution with Git operations\r\n * Demonstrates: Terminal commands being executed and their visual effects\r\n */\r\nexport const TerminalDemo = () => {\r\n  const { nodes, edges, commit, createBranch, checkout, merge } = useGitGraph();\r\n  const [terminalLines, setTerminalLines] = useState([\r\n    { type: \"prompt\", text: \"$ \" },\r\n  ]);\r\n  const hasInitialized = useRef(false);\r\n\r\n  useEffect(() => {\r\n    if (hasInitialized.current) return;\r\n    hasInitialized.current = true;\r\n\r\n    // Simulate terminal commands being typed and executed\r\n    const commands = [\r\n      { \r\n        cmd: \"git commit -m 'Initial commit'\",\r\n        action: () => commit(\"Initial commit\"),\r\n        delay: 800\r\n      },\r\n      { \r\n        cmd: \"git commit -m 'Add feature'\",\r\n        action: () => commit(\"Add feature\"),\r\n        delay: 800\r\n      },\r\n      { \r\n        cmd: \"git branch develop\",\r\n        action: () => createBranch(\"develop\"),\r\n        delay: 800\r\n      },\r\n      { \r\n        cmd: \"git checkout develop\",\r\n        action: () => checkout(\"develop\"),\r\n        delay: 800\r\n      },\r\n      { \r\n        cmd: \"git commit -m 'Develop changes'\",\r\n        action: () => commit(\"Develop changes\"),\r\n        delay: 800\r\n      },\r\n      { \r\n        cmd: \"git checkout main\",\r\n        action: () => checkout(\"main\"),\r\n        delay: 800\r\n      },\r\n      { \r\n        cmd: \"git merge develop\",\r\n        action: () => merge(\"develop\"),\r\n        delay: 800\r\n      },\r\n    ];\r\n\r\n    let cumulativeDelay = 500;\r\n    commands.forEach(({ cmd, action, delay }) => {\r\n      // Type command\r\n      setTimeout(() => {\r\n        setTerminalLines((prev) => {\r\n          const newLines = [...prev];\r\n          newLines[newLines.length - 1] = { type: \"prompt\", text: `$ ${cmd}` };\r\n          return newLines;\r\n        });\r\n      }, cumulativeDelay);\r\n\r\n      // Execute command\r\n      setTimeout(() => {\r\n        action();\r\n        setTerminalLines((prev) => [\r\n          ...prev,\r\n          { type: \"output\", text: \"âœ“ Command executed successfully\" },\r\n          { type: \"prompt\", text: \"$ \" },\r\n        ]);\r\n      }, cumulativeDelay + 400);\r\n\r\n      cumulativeDelay += delay;\r\n    });\r\n  }, [commit, createBranch, checkout, merge]);\r\n\r\n  return (\r\n    <div className=\"demo-container terminal-demo-container\">\r\n      <div className=\"terminal-demo-layout\">\r\n        {/* Terminal Window */}\r\n        <div className=\"terminal-demo-window\">\r\n          <div className=\"terminal-demo-header\">\r\n            <div className=\"terminal-demo-dots\">\r\n              <span className=\"dot dot-red\"></span>\r\n              <span className=\"dot dot-yellow\"></span>\r\n              <span className=\"dot dot-green\"></span>\r\n            </div>\r\n            <span className=\"terminal-demo-title\">git-visualizer</span>\r\n          </div>\r\n          <div className=\"terminal-demo-content\">\r\n            {terminalLines.map((line, index) => (\r\n              <div\r\n                key={index}\r\n                className={`terminal-line ${line.type === \"prompt\" ? \"terminal-prompt\" : \"terminal-output\"}`}\r\n              >\r\n                {line.text}\r\n                {index === terminalLines.length - 1 && line.type === \"prompt\" && (\r\n                  <span className=\"terminal-cursor\">|</span>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Graph Visualization */}\r\n        <div className=\"terminal-demo-graph\">\r\n          <ReactFlow\r\n            nodes={nodes}\r\n            edges={edges}\r\n            nodeTypes={nodeTypes}\r\n            edgeTypes={edgeTypes}\r\n            fitView\r\n            fitViewOptions={{\r\n              padding: 0.3,\r\n              maxZoom: 0.9,\r\n              minZoom: 0.4,\r\n              includeHiddenNodes: false,\r\n            }}\r\n            nodesDraggable={false}\r\n            nodesConnectable={false}\r\n            elementsSelectable={false}\r\n            panOnDrag={true}\r\n            zoomOnScroll={true}\r\n            zoomOnPinch={true}\r\n            zoomOnDoubleClick={false}\r\n            preventScrolling={true}\r\n            minZoom={0.1}\r\n            maxZoom={2}\r\n          >\r\n            <Background color=\"#94a3b8\" gap={16} />\r\n            <Controls showInteractive={false} />\r\n          </ReactFlow>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TerminalDemo;\r\n"
        }
    ]
}
{
    "sourceFile": "src/features/Home/components/FlowShowcase/FlowShowcase.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1761539300658,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1761539741435,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,41 +1,29 @@\n import React, { useEffect, useRef } from \"react\";\r\n-import {\r\n-  ReactFlow,\r\n-  Background,\r\n-  useReactFlow,\r\n-} from \"@xyflow/react\";\r\n+import { ReactFlow, Background } from \"@xyflow/react\";\r\n import \"@xyflow/react/dist/style.css\";\r\n import \"./FlowShowcase.css\";\r\n \r\n const SIZE_WIDTH = 320;\r\n const SIZE_HEIGHT = 220;\r\n \r\n+import { CustomNode, CustomEdge } from \"../../../visualizer/components/Graph\";\r\n+\r\n function FlowCanvas({ nodes, edges }) {\r\n-  const ref = useRef(null);\r\n-  const rflow = useReactFlow?.();\r\n-\r\n-  useEffect(() => {\r\n-    // center the view to show nodes nicely\r\n-    if (rflow && typeof rflow.fitView === \"function\") {\r\n-      // small timeout to allow layout\r\n-      setTimeout(() => rflow.fitView({ padding: 0.2 }), 50);\r\n-    }\r\n-  }, [nodes, edges, rflow]);\r\n-\r\n   return (\r\n-    <div className=\"flow-showcase-root\" style={{ width: SIZE_WIDTH, height: SIZE_HEIGHT }} ref={ref}>\r\n+    <div className=\"flow-showcase-root\" style={{ width: SIZE_WIDTH, height: SIZE_HEIGHT }}>\r\n       <ReactFlow\r\n         nodes={nodes}\r\n         edges={edges}\r\n-        fitView={false}\r\n+        nodeTypes={{ custom: CustomNode }}\r\n+        edgeTypes={{ custom: CustomEdge }}\r\n         nodesConnectable={false}\r\n         nodesDraggable={false}\r\n         panOnDrag={false}\r\n         zoomOnScroll={false}\r\n         panOnScroll={false}\r\n         zoomOnPinch={false}\r\n-        attributionPosition=\"bottom-left\"\r\n+        fitView\r\n         className=\"flow-showcase\"\r\n       >\r\n         <Background gap={16} color=\"transparent\" />\r\n       </ReactFlow>\r\n@@ -48,27 +36,67 @@\n   let edges = [];\r\n \r\n   if (variant === \"commit\") {\r\n     nodes = [\r\n-      { id: \"c1\", position: { x: 40, y: 70 }, data: { label: \"commit-a\" } },\r\n-      { id: \"c2\", position: { x: 220, y: 70 }, data: { label: \"commit-b\" } },\r\n+      {\r\n+        id: \"c1\",\r\n+        type: \"custom\",\r\n+        position: { x: 40, y: 70 },\r\n+        data: { commit: { id: \"a1b2c3d\", message: \"Initial commit\" }, color: \"#60a5fa\", isHead: true },\r\n+      },\r\n+      {\r\n+        id: \"c2\",\r\n+        type: \"custom\",\r\n+        position: { x: 220, y: 70 },\r\n+        data: { commit: { id: \"d4e5f6g\", message: \"Add README\" }, color: \"#60a5fa\" },\r\n+      },\r\n     ];\r\n-    edges = [{ id: \"e1\", source: \"c1\", target: \"c2\", animated: false }];\r\n+    edges = [{ id: \"e1\", source: \"c1\", target: \"c2\", type: \"custom\", style: { stroke: \"#93c5fd\" } }];\r\n   } else if (variant === \"branch\") {\r\n     nodes = [\r\n-      { id: \"main\", position: { x: 40, y: 70 }, data: { label: \"main\" } },\r\n-      { id: \"feature\", position: { x: 220, y: 70 }, data: { label: \"feature\" } },\r\n+      {\r\n+        id: \"main\",\r\n+        type: \"custom\",\r\n+        position: { x: 40, y: 70 },\r\n+        data: { commit: { id: \"m1\", message: \"main\" }, color: \"#7c3aed\", branches: [\"main\"] },\r\n+      },\r\n+      {\r\n+        id: \"feature\",\r\n+        type: \"custom\",\r\n+        position: { x: 220, y: 70 },\r\n+        data: {\r\n+          commit: { id: \"f1\", message: \"feature\" },\r\n+          color: \"#06b6d4\",\r\n+          branches: [\"feature\"],\r\n+          branchColors: { feature: \"#06b6d4\", main: \"#7c3aed\" },\r\n+        },\r\n+      },\r\n     ];\r\n-    edges = [{ id: \"e1\", source: \"main\", target: \"feature\", animated: false }];\r\n+    edges = [{ id: \"e1\", source: \"main\", target: \"feature\", type: \"custom\", style: { stroke: \"#a78bfa\" } }];\r\n   } else if (variant === \"merge\") {\r\n     nodes = [\r\n-      { id: \"m1\", position: { x: 20, y: 70 }, data: { label: \"main\" } },\r\n-      { id: \"f1\", position: { x: 140, y: 20 }, data: { label: \"feature\" } },\r\n-      { id: \"merge\", position: { x: 260, y: 70 }, data: { label: \"merge\" } },\r\n+      {\r\n+        id: \"m1\",\r\n+        type: \"custom\",\r\n+        position: { x: 20, y: 70 },\r\n+        data: { commit: { id: \"m1\", message: \"main\" }, color: \"#7c3aed\" },\r\n+      },\r\n+      {\r\n+        id: \"f1\",\r\n+        type: \"custom\",\r\n+        position: { x: 140, y: 20 },\r\n+        data: { commit: { id: \"f1\", message: \"feature\" }, color: \"#06b6d4\" },\r\n+      },\r\n+      {\r\n+        id: \"merge\",\r\n+        type: \"custom\",\r\n+        position: { x: 260, y: 70 },\r\n+        data: { commit: { id: \"mg\", message: \"merge\" }, color: \"#ef4444\", isMerge: true },\r\n+      },\r\n     ];\r\n     edges = [\r\n-      { id: \"e1\", source: \"m1\", target: \"merge\" },\r\n-      { id: \"e2\", source: \"f1\", target: \"merge\" },\r\n+      { id: \"e1\", source: \"m1\", target: \"merge\", type: \"custom\", style: { stroke: \"#a78bfa\" } },\r\n+      { id: \"e2\", source: \"f1\", target: \"merge\", type: \"custom\", style: { stroke: \"#60f0ea\" }, data: { isMergeEdge: true } },\r\n     ];\r\n   }\r\n \r\n   return <FlowCanvas nodes={nodes} edges={edges} />;\r\n"
                },
                {
                    "date": 1761539841779,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -116,15 +116,23 @@\n       {\r\n         id: \"m1\",\r\n         type: \"custom\",\r\n         position: { x: 20, y: 70 },\r\n-        data: { commit: { id: \"m1\", message: \"main\" }, color: \"#7c3aed\", animationIndex: 0 },\r\n+        data: {\r\n+          commit: { id: \"m1\", message: \"main\" },\r\n+          color: \"#7c3aed\",\r\n+          animationIndex: 0,\r\n+        },\r\n       },\r\n       {\r\n         id: \"f1\",\r\n         type: \"custom\",\r\n         position: { x: 140, y: 20 },\r\n-        data: { commit: { id: \"f1\", message: \"feature\" }, color: \"#06b6d4\", animationIndex: 1 },\r\n+        data: {\r\n+          commit: { id: \"f1\", message: \"feature\" },\r\n+          color: \"#06b6d4\",\r\n+          animationIndex: 1,\r\n+        },\r\n       },\r\n       {\r\n         id: \"merge\",\r\n         type: \"custom\",\r\n@@ -152,9 +160,13 @@\n         source: \"f1\",\r\n         target: \"merge\",\r\n         type: \"custom\",\r\n         style: { stroke: \"#60f0ea\" },\r\n-        data: { isMergeEdge: true, animationType: \"mergeDraw\", animationIndex: 1 },\r\n+        data: {\r\n+          isMergeEdge: true,\r\n+          animationType: \"mergeDraw\",\r\n+          animationIndex: 1,\r\n+        },\r\n       },\r\n     ];\r\n   }\r\n \r\n"
                },
                {
                    "date": 1761540352894,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -123,5 +123,5 @@\n \r\n   const { nodes, edges } = convertToReactFlow(graph);\r\n \r\n   return <FlowCanvas nodes={nodes} edges={edges} />;\r\n-\r\n+}\r\n"
                }
            ],
            "date": 1761539300658,
            "name": "Commit-0",
            "content": "import React, { useEffect, useRef } from \"react\";\r\nimport {\r\n  ReactFlow,\r\n  Background,\r\n  useReactFlow,\r\n} from \"@xyflow/react\";\r\nimport \"@xyflow/react/dist/style.css\";\r\nimport \"./FlowShowcase.css\";\r\n\r\nconst SIZE_WIDTH = 320;\r\nconst SIZE_HEIGHT = 220;\r\n\r\nfunction FlowCanvas({ nodes, edges }) {\r\n  const ref = useRef(null);\r\n  const rflow = useReactFlow?.();\r\n\r\n  useEffect(() => {\r\n    // center the view to show nodes nicely\r\n    if (rflow && typeof rflow.fitView === \"function\") {\r\n      // small timeout to allow layout\r\n      setTimeout(() => rflow.fitView({ padding: 0.2 }), 50);\r\n    }\r\n  }, [nodes, edges, rflow]);\r\n\r\n  return (\r\n    <div className=\"flow-showcase-root\" style={{ width: SIZE_WIDTH, height: SIZE_HEIGHT }} ref={ref}>\r\n      <ReactFlow\r\n        nodes={nodes}\r\n        edges={edges}\r\n        fitView={false}\r\n        nodesConnectable={false}\r\n        nodesDraggable={false}\r\n        panOnDrag={false}\r\n        zoomOnScroll={false}\r\n        panOnScroll={false}\r\n        zoomOnPinch={false}\r\n        attributionPosition=\"bottom-left\"\r\n        className=\"flow-showcase\"\r\n      >\r\n        <Background gap={16} color=\"transparent\" />\r\n      </ReactFlow>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function FlowShowcase({ variant = \"commit\" }) {\r\n  let nodes = [];\r\n  let edges = [];\r\n\r\n  if (variant === \"commit\") {\r\n    nodes = [\r\n      { id: \"c1\", position: { x: 40, y: 70 }, data: { label: \"commit-a\" } },\r\n      { id: \"c2\", position: { x: 220, y: 70 }, data: { label: \"commit-b\" } },\r\n    ];\r\n    edges = [{ id: \"e1\", source: \"c1\", target: \"c2\", animated: false }];\r\n  } else if (variant === \"branch\") {\r\n    nodes = [\r\n      { id: \"main\", position: { x: 40, y: 70 }, data: { label: \"main\" } },\r\n      { id: \"feature\", position: { x: 220, y: 70 }, data: { label: \"feature\" } },\r\n    ];\r\n    edges = [{ id: \"e1\", source: \"main\", target: \"feature\", animated: false }];\r\n  } else if (variant === \"merge\") {\r\n    nodes = [\r\n      { id: \"m1\", position: { x: 20, y: 70 }, data: { label: \"main\" } },\r\n      { id: \"f1\", position: { x: 140, y: 20 }, data: { label: \"feature\" } },\r\n      { id: \"merge\", position: { x: 260, y: 70 }, data: { label: \"merge\" } },\r\n    ];\r\n    edges = [\r\n      { id: \"e1\", source: \"m1\", target: \"merge\" },\r\n      { id: \"e2\", source: \"f1\", target: \"merge\" },\r\n    ];\r\n  }\r\n\r\n  return <FlowCanvas nodes={nodes} edges={edges} />;\r\n}\r\n"
        }
    ]
}